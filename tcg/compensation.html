<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Compensation Data</title>
    <link rel="stylesheet" href="material-icons.css" />
    <style>
        body {
            font-family: -apple-system,BlinkMacSystemFont,"Segoe UI",Helvetica,Arial,sans-serif,"Apple Color Emoji","Segoe UI Emoji";
        }
/*
        table, th, td {
            border: 1px solid #000000;
            border-collapse: collapse;
        }
*/
        tr {
            background-color: #ffffff;
        }
        tr:nth-child(even) {
            background-color: #eeeeee;
        }
        td {
            padding: 6px 13px;
        }
    </style>
</head>
<body>
<div id="table"></div>

<script>
var xhttp = new XMLHttpRequest();
xhttp.open("GET",
           "https://raw.githubusercontent.com/Gear61/Tech-Career-Growth-Learning-Resources-And-Roadmaps/main/Compensation.md",
           true);
xhttp.send();


xhttp.onload = function() {
    var lines = this.responseText.split('\n');
    var table = build_table(lines);
    document.getElementById('table').innerHTML = table;
}


function build_table(lines) {
    var icons = ['&#xe7ee;', '&#xe55f;', '&#xe878;',
                 'attach_money', 'trending_up', 'add',
                 'shield', 'school', 'shopping_cart'];

    var table = '<table><tr>';
    var row = lines[0].split(' | ');

    /* Process header row */
    for (var i = 0; i < row.length; i++) {
        row[i] = check_for_superscript(row[i]);
        table += '<th><i class="material-icons">'+ icons[i] +'</i><br />'+
                 row[i] +'</th>';
    }

    table += '</tr>';

    for (i = 2; i < lines.length; i++) {
        table += '<tr>';
        row = lines[i].split(' | ');
        for (var j = 0; j < row.length; j++)
            table += '<td>'+ row[j] +'</td>';
        table += '</tr>';
    }

    return table += '</table>';
}


function check_for_superscript(cell) {
    var left_bracket = cell.indexOf('[');
    if (left_bracket > -1) {
        return cell.slice(0, left_bracket) + cell.slice(left_bracket+4);
    }

    return cell;
}
</script>
</body>
</html>
